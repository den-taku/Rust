5章　参照

参照(reference):
所有権を持たないポインタ型
→ある値に対する参照を作ること:借用(borrowing)
→参照は参照先よりも長生きしなければならない

参照を安全に保つルールがRust固有

Hash<String, Vec<String>>:
StringをVec<String>値にマップするハッシュテーブル

参照には2種類ある

共有参照(shared reference):
readonlyな参照。同時に何個からでも参照できる。Copy型。

可変参照(mutable reference):
値の読み出し・変更が可能な参照。他の参照から使用不可。非Copy型。

→複数読み出しか単一書き込みのルール
→→ある値に対する可変参照は排他的なアクセス権を持つ

共有参照に対するforループ
→各要素への共有参照を作るようになっている

値渡し(pass by value): 所有権を移動
参照渡し(pass by reference): 参照を渡す

5.1 値としての参照

参照の柔軟な使い方の例を見る

5.1.1 Rustの参照 vs C++の参照

C++
→暗黙に参照が作られ参照解決も暗黙
Rust
→明示的に参照を作り(&)、参照解決も明示的(*)
→→可変参照は&mutで作る

ただしRustでは.演算子が必要なら暗黙に左オペランドを参照解決する




































































































