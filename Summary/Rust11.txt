11章 トレイトとジェネリクス

まだ書かれていない型の値を処理できる
→多相性もしくはポリモルフィズム(polymorphism)

Rustはpolymorphismをトレイトとジェネリクスでサポート

トレイト(trait)
→Rustにおけるインターフェイス、もしくは抽象基底クラスのようなもの

Write(型名)
→意味:Writeトレイトを実装している任意の値

ジェネリクス(generics)
→様々な型の値に対してジェネリック関数やジェネリック型を使える

<T: Ord>
→Ordトレイトを実装する任意の型T(順序付け可能な型)

コンパイラは実際に使うそれぞれの型Tに対して専用の機械コードを生成

ジェネリクスとトレイトは密接に関連している
→<=演算子を使う前にT: Ordと書いてTへの要請(制約(bound))を宣言しなければならない
→→&mut Write, <T: Write>の類似点、相違点について本章で説明

11.1 トレイトの使い方

トレイト
→任意の型がサポートすることのできる性質
→→多くの場合トレイトは何らかの機能を表す

トレイトメソッド
→トレイト自体がスコープに入っていなければならない(useを使う)
→→任意のメソッドを任意の型に追加できるので名前が衝突する可能性があるから

CloneとIteratorのメソッドは何もimportしなくても使える
→常にdefaultでスコープに入っているから(13章でpreludeは紹介)

仮想関数に似ているが通常のメソッドと同程度に高速
→Vec<u8>::write()を単に呼び出せば良い(多相性はない)
→&mut Writeを使って呼び出す場合にだけ仮想メソッド呼び出しのオーバークロックが生じる

11.1.1 トレイトオブジェクト





































































































